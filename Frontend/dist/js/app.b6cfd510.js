(function(e){function t(t){for(var r,a,i=t[0],c=t[1],l=t[2],d=0,m=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&m.push(s[a][0]),s[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},s={app:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var p=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0017":function(e,t,n){"use strict";n("1c5d")},"034f":function(e,t,n){"use strict";n("85ec")},"1c5d":function(e,t,n){},"1fb2":function(e,t,n){},"25f6":function(e,t,n){"use strict";n("3bac")},"3bac":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),s=n("123d"),o=n.n(s),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],c=(n("034f"),n("2877")),l={},p=Object(c["a"])(l,a,i,!1,null,null,null),d=p.exports,m=n("8c4f"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"card login"},[n("div",{staticClass:"card-body"},[n("h2",{staticClass:"card-title text-center"},[e._v("Login")]),n("form",{staticClass:"text-center",on:{submit:[e.login,function(t){return t.preventDefault(),e.login(t)}]}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userLogin.phone_number,expression:"userLogin.phone_number"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter cell number:",name:"phone_number",required:""},domProps:{value:e.userLogin.phone_number},on:{input:function(t){t.target.composing||e.$set(e.userLogin,"phone_number",t.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userLogin.password,expression:"userLogin.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Enter password:",name:"password",required:""},domProps:{value:e.userLogin.password},on:{input:function(t){t.target.composing||e.$set(e.userLogin,"password",t.target.value)}}}),e.errorText?n("p",{staticClass:"text-danger"},[e._v(e._s(e.errorText))]):e._e()]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.login(e.userLogin)}}},[e._v("Login")]),n("br"),n("br"),n("a",{attrs:{href:"/register"}},[e._v("Click here to register")])])])])])},h=[],_=(n("99af"),n("bc3a")),f=n.n(_),v={name:"login",data:function(){return{userLogin:{phone_number:"",password:""},errorText:null}},methods:{login:function(e){var t=this;if(e.phone_number&&e.password){var n=e.phone_number,r=e.password;f.a.get("http://localhost:3000/users/login/".concat(n,"/").concat(r)).then((function(e){console.log("data found: ",e);var r=e.data.addedUser.data[0].fn_users_login;0==r?alert("Your user name or password is incorrect"):f.a.get("http://localhost:3000/users/isTechnician/".concat(n)).then((function(e){console.log("data found: ",e);var r=e.data.istechnician.data[0].fn_user_is_technician;1==r?(alert("You are succefully logged in as a technician"),t.$router.push({name:"List",params:{id:n}})):(alert("You are successfully logged in as a client"),t.$router.push({name:"ClientAppointments",params:{id:n}}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log("error message",e)}))}else this.errorText="Please enter all fields!"}}},b=v,g=(n("25f6"),Object(c["a"])(b,u,h,!1,null,"1a37479a",null)),y=g.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container chat"},[n("h2",{staticClass:"text-primary text-center"},[e._v("Mobify Booker")]),n("h5",{staticClass:"text-secondary text-center"},[e._v("You logged in as a technician")]),n("br"),e._m(0),n("br"),n("div",{staticClass:"card"},[n("form",{on:{submit:[e.getappointments,function(t){return t.preventDefault(),e.appointmentsclient(t)}]}},[e.errorText?n("p",{staticClass:"text-danger"},[e._v(e._s(e.errorText))]):e._e(),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.getappointments(e.techappointments)}}},[e._v("List all appointments")]),n("br"),n("br"),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.cancel()}}},[e._v("Cancel appointment")]),n("br"),n("br"),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.getvehicles(e.allvehicles)}}},[e._v("Display vehicles")]),n("br"),n("br"),n("a",{attrs:{href:"/inspection"}},[e._v("FILL IN INSPECTION SHEET")]),n("br"),n("br")]),n("div",{staticClass:"card-body"},[n("h5",[e._v("Table below list attended and unattended appointments")]),n("table",[n("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll",value:{always:!1,smooth:!0},expression:"{always: false, smooth: true}"}],staticClass:"messages"},[e._m(1),n("tbody",e._l(e.techappointments.appointments,(function(t){return n("tr",{key:t.phone_number_fk,staticStyle:{"font-size":"15px","font-weight":"bold"}},[n("td",[e._v(e._s(t.full_names))]),n("td",[e._v(e._s(t.date_of_appointment))]),n("td",[e._v(e._s(t.date_requested))]),n("td",[e._v(e._s(t.address))]),n("td",{staticStyle:{color:"blue"}},[e._v(e._s(t.attended))])])})),0),n("tfoot")])]),n("br"),n("br"),n("h5",[e._v("Table below list all cars registered with the system")]),n("table",[n("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll",value:{always:!1,smooth:!0},expression:"{always: false, smooth: true}"}],staticClass:"messages"},[e._m(2),n("tbody",e._l(e.allvehicles.vehicles,(function(t){return n("tr",{key:t.owner,staticStyle:{"font-size":"15px","font-weight":"bold"}},[n("td",[e._v(e._s(t.full_names))]),n("td",[e._v(e._s(t.address))]),n("td",[e._v(e._s(t.make))]),n("td",[e._v(e._s(t.model))]),n("td",[e._v(e._s(t.registration_number))])])})),0),n("tfoot")])])])]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),e._m(3)])},x=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h6",{staticClass:"text-secondary text-center"},[n("b",[e._v("Click any button below to perform an action")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",{staticStyle:{"text-decoration-line":"underline","text-decoration-style":"double"}},[n("th",[e._v("Appointment booked by")]),n("th",[e._v("Date of appointment")]),n("th",[e._v("Date requested")]),n("th",[e._v("Address of the car owner")]),n("th",[e._v("Appointment attended")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",{staticStyle:{"text-decoration-line":"underline","text-decoration-style":"double"}},[n("th",[e._v("Name of client")]),n("th",[e._v("Address of the client")]),n("th",[e._v("Vehicle Make")]),n("th",[e._v("Vehicle model")]),n("th",[e._v("Vehicle Registration")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",[n("p",[e._v("Author: Lebogang Diale")])])}],E={name:"clientappalt",data:function(){return{techappointments:{appointments:[]},allvehicles:{vehicles:[],id:this.$route.params.id},errorText:null,id:this.$route.params.id}},methods:{getappointments:function(){var e=this;f.a.get("http://localhost:3000/appointments").then((function(t){console.log(t.data),e.techappointments.appointments=t.data.appointments.data})).catch((function(e){console.log("error message",e)}))},cancel:function(){var e=prompt("Cornfirm registration of the car booked for");f.a.patch("http://localhost:3000/appointments/cancel/".concat(e)).then((function(e){console.log("data found: ",e),alert("Appointment was succesfully deleted")})).catch((function(e){console.log("error message",e)}))},getvehicles:function(){var e=this;f.a.get("http://localhost:3000/appointments/vehicles").then((function(t){console.log(t.data),e.allvehicles.vehicles=t.data.vehicles.data})).catch((function(e){console.log("error message",e)}))}}},w=E,C=(n("8ed6"),Object(c["a"])(w,k,x,!1,null,"10c35f41",null)),R=C.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"card register"},[n("div",{staticClass:"card-body"},[n("h2",{staticClass:"card-title text-center"},[e._v("Register")]),n("form",{staticClass:"text-center",on:{submit:[e.register,function(t){return t.preventDefault(),e.register(t)}]}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.REGISTERUSER.id_number,expression:"REGISTERUSER.id_number"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your Identity number:",name:"id",required:""},domProps:{value:e.REGISTERUSER.id_number},on:{input:function(t){t.target.composing||e.$set(e.REGISTERUSER,"id_number",t.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.REGISTERUSER.phone_number,expression:"REGISTERUSER.phone_number"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your phone number:",name:"phone",required:""},domProps:{value:e.REGISTERUSER.phone_number},on:{input:function(t){t.target.composing||e.$set(e.REGISTERUSER,"phone_number",t.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.REGISTERUSER.full_names,expression:"REGISTERUSER.full_names"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your name and surname:",name:"fullnames",required:""},domProps:{value:e.REGISTERUSER.full_names},on:{input:function(t){t.target.composing||e.$set(e.REGISTERUSER,"full_names",t.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.REGISTERUSER.address,expression:"REGISTERUSER.address"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your address:",name:"address",required:""},domProps:{value:e.REGISTERUSER.address},on:{input:function(t){t.target.composing||e.$set(e.REGISTERUSER,"address",t.target.value)}}}),n("br"),n("label",{attrs:{for:"role"}},[e._v(" I am a technician")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.REGISTERUSER.is_technician,expression:"REGISTERUSER.is_technician"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"is_technician"},domProps:{checked:Array.isArray(e.REGISTERUSER.is_technician)?e._i(e.REGISTERUSER.is_technician,"is_technician")>-1:e.REGISTERUSER.is_technician},on:{change:function(t){var n=e.REGISTERUSER.is_technician,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="is_technician",a=e._i(n,o);r.checked?a<0&&e.$set(e.REGISTERUSER,"is_technician",n.concat([o])):a>-1&&e.$set(e.REGISTERUSER,"is_technician",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.REGISTERUSER,"is_technician",s)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.REGISTERUSER.password,expression:"REGISTERUSER.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Enter your password:",name:"password",required:""},domProps:{value:e.REGISTERUSER.password},on:{input:function(t){t.target.composing||e.$set(e.REGISTERUSER,"password",t.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.REGISTERUSER.password_confirm,expression:"REGISTERUSER.password_confirm"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Confirm passsword:",name:"passwordconfirm",required:""},domProps:{value:e.REGISTERUSER.password_confirm},on:{input:function(t){t.target.composing||e.$set(e.REGISTERUSER,"password_confirm",t.target.value)}}}),n("br"),e.errorText?n("p",{staticClass:"text-danger"},[e._v(e._s(e.errorText))]):e._e()]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.register(e.REGISTERUSER)}}},[e._v("Register")])])])])])},A=[],S={name:"register",data:function(){return{REGISTERUSER:{id_number:"",phone_number:"",full_names:"",address:"",is_technician:!1,password:"",password_confirm:""},errorText:null}},methods:{register:function(e){var t=this,n=e.phone_number,r=e.id_number,s=e.is_technician;f.a.get("http://localhost:3000/users/checkNumber/".concat(n,"/").concat(r)).then((function(n){console.log("data found: ",n);var r=n.data.numbercheck.data[0].fn_register_number_exists;if(e.phone_number.length<10)alert("Your phone number must not have less than 10 characters");else if(e.password!=e.password_confirm)alert("Password does not match");else if(e.password.length<=7)alert("Password should be atleast 8 characters long");else if(1==r)alert("Phone or ID number already registered with the system");else{f.a.get();var o={id_number:e.id_number,phone_number:e.phone_number,full_names:e.full_names,address:e.address,is_technician:e.is_technician,password:e.password,password_confirm:e.password_confirm};f.a.post("http://localhost:3000/users/register",o).then((function(){1==s?(alert("You are now successfully registered as a technician."),t.$router.push({name:"List"})):(alert("You are now successfully registered as a client."),t.$router.push({name:"ClientAppointments"}))})).catch((function(e){console.log(e)}))}}))}}},T=S,P=(n("0017"),Object(c["a"])(T,$,A,!1,null,"1db9a508",null)),N=P.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"card inspection"},[n("div",{staticClass:"card-body"},[n("h2",{staticClass:"card-title text-center"},[e._v("Installation / Inspection sheet")]),n("br"),n("h4",{staticClass:"card-title text-center"},[e._v("Tick on items that are working")]),n("br"),n("form",{staticClass:"text-center",on:{submit:[e.inspection,function(t){return t.preventDefault(),e.inspection(t)}]}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.inspector_phone_num,expression:"inspect.inspector_phone_num"}],staticClass:"form-control",attrs:{type:"text",name:"inspector ",placeholder:" Please confirm your phone number here: ",required:""},domProps:{value:e.inspect.inspector_phone_num},on:{input:function(t){t.target.composing||e.$set(e.inspect,"inspector_phone_num",t.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.vehicle_reg_number,expression:"inspect.vehicle_reg_number"}],staticClass:"form-control",attrs:{type:"text",name:"inspector ",placeholder:" Please confirm the registration number of the car: ",required:""},domProps:{value:e.inspect.vehicle_reg_number},on:{input:function(t){t.target.composing||e.$set(e.inspect,"vehicle_reg_number",t.target.value)}}}),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Headlights")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.headlights,expression:"inspect.headlights"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"headlights"},domProps:{checked:Array.isArray(e.inspect.headlights)?e._i(e.inspect.headlights,"headlights")>-1:e.inspect.headlights},on:{change:function(t){var n=e.inspect.headlights,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="headlights",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"headlights",n.concat([o])):a>-1&&e.$set(e.inspect,"headlights",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"headlights",s)}}}),n("br"),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Tail Lights")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.tail_lights,expression:"inspect.tail_lights"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"tail_lights"},domProps:{checked:Array.isArray(e.inspect.tail_lights)?e._i(e.inspect.tail_lights,"tail_lights")>-1:e.inspect.tail_lights},on:{change:function(t){var n=e.inspect.tail_lights,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="tail_lights",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"tail_lights",n.concat([o])):a>-1&&e.$set(e.inspect,"tail_lights",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"tail_lights",s)}}}),n("br"),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Turn Indicator Lights")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.turn_indicator_lights,expression:"inspect.turn_indicator_lights"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"turn_indicator_lights"},domProps:{checked:Array.isArray(e.inspect.turn_indicator_lights)?e._i(e.inspect.turn_indicator_lights,"turn_indicator_lights")>-1:e.inspect.turn_indicator_lights},on:{change:function(t){var n=e.inspect.turn_indicator_lights,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="turn_indicator_lights",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"turn_indicator_lights",n.concat([o])):a>-1&&e.$set(e.inspect,"turn_indicator_lights",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"turn_indicator_lights",s)}}}),n("br"),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Spot Lights")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.spot_lights,expression:"inspect.spot_lights"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"spot_lights"},domProps:{checked:Array.isArray(e.inspect.spot_lights)?e._i(e.inspect.spot_lights,"spot_lights")>-1:e.inspect.spot_lights},on:{change:function(t){var n=e.inspect.spot_lights,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="spot_lights",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"spot_lights",n.concat([o])):a>-1&&e.$set(e.inspect,"spot_lights",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"spot_lights",s)}}}),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Foot brakes")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.foot_brakes,expression:"inspect.foot_brakes"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"foot_brakes"},domProps:{checked:Array.isArray(e.inspect.foot_brakes)?e._i(e.inspect.foot_brakes,"foot_brakes")>-1:e.inspect.foot_brakes},on:{change:function(t){var n=e.inspect.foot_brakes,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="foot_brakes",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"foot_brakes",n.concat([o])):a>-1&&e.$set(e.inspect,"foot_brakes",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"foot_brakes",s)}}}),n("br"),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Emergency parking brake")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.parking_brake,expression:"inspect.parking_brake"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"parking_brake"},domProps:{checked:Array.isArray(e.inspect.parking_brake)?e._i(e.inspect.parking_brake,"parking_brake")>-1:e.inspect.parking_brake},on:{change:function(t){var n=e.inspect.parking_brake,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="parking_brake",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"parking_brake",n.concat([o])):a>-1&&e.$set(e.inspect,"parking_brake",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"parking_brake",s)}}}),n("br"),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Heat and Air Conditioning")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.air_conditioning,expression:"inspect.air_conditioning"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"air_conditioning"},domProps:{checked:Array.isArray(e.inspect.air_conditioning)?e._i(e.inspect.air_conditioning,"air_conditioning")>-1:e.inspect.air_conditioning},on:{change:function(t){var n=e.inspect.air_conditioning,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="air_conditioning",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"air_conditioning",n.concat([o])):a>-1&&e.$set(e.inspect,"air_conditioning",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"air_conditioning",s)}}}),n("br"),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Windshield")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.windshield,expression:"inspect.windshield"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"windshield"},domProps:{checked:Array.isArray(e.inspect.windshield)?e._i(e.inspect.windshield,"windshield")>-1:e.inspect.windshield},on:{change:function(t){var n=e.inspect.windshield,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="windshield",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"windshield",n.concat([o])):a>-1&&e.$set(e.inspect,"windshield",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"windshield",s)}}}),n("br"),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Front seat adjustment")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.seat_adjustment,expression:"inspect.seat_adjustment"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"seat_adjustment"},domProps:{checked:Array.isArray(e.inspect.seat_adjustment)?e._i(e.inspect.seat_adjustment,"seat_adjustment")>-1:e.inspect.seat_adjustment},on:{change:function(t){var n=e.inspect.seat_adjustment,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="seat_adjustment",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"seat_adjustment",n.concat([o])):a>-1&&e.$set(e.inspect,"seat_adjustment",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"seat_adjustment",s)}}}),n("br"),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Steering mechanism")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.steering_mechanism,expression:"inspect.steering_mechanism"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"steering_mechanism"},domProps:{checked:Array.isArray(e.inspect.steering_mechanism)?e._i(e.inspect.steering_mechanism,"steering_mechanism")>-1:e.inspect.steering_mechanism},on:{change:function(t){var n=e.inspect.steering_mechanism,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="steering_mechanism",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"steering_mechanism",n.concat([o])):a>-1&&e.$set(e.inspect,"steering_mechanism",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"steering_mechanism",s)}}}),n("br"),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Door Control(open, close, lock)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.door_control,expression:"inspect.door_control"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"door_control"},domProps:{checked:Array.isArray(e.inspect.door_control)?e._i(e.inspect.door_control,"door_control")>-1:e.inspect.door_control},on:{change:function(t){var n=e.inspect.door_control,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="door_control",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"door_control",n.concat([o])):a>-1&&e.$set(e.inspect,"door_control",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"door_control",s)}}}),n("br"),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Horn")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.horn,expression:"inspect.horn"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"horn"},domProps:{checked:Array.isArray(e.inspect.horn)?e._i(e.inspect.horn,"horn")>-1:e.inspect.horn},on:{change:function(t){var n=e.inspect.horn,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="horn",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"horn",n.concat([o])):a>-1&&e.$set(e.inspect,"horn",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"horn",s)}}}),n("br"),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Speedometer")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.speedometer,expression:"inspect.speedometer"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"speedometer"},domProps:{checked:Array.isArray(e.inspect.speedometer)?e._i(e.inspect.speedometer,"speedometer")>-1:e.inspect.speedometer},on:{change:function(t){var n=e.inspect.speedometer,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="speedometer",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"speedometer",n.concat([o])):a>-1&&e.$set(e.inspect,"speedometer",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"speedometer",s)}}}),n("br"),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Body condition/damage")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.body_condition,expression:"inspect.body_condition"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"body_condition"},domProps:{checked:Array.isArray(e.inspect.body_condition)?e._i(e.inspect.body_condition,"body_condition")>-1:e.inspect.body_condition},on:{change:function(t){var n=e.inspect.body_condition,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="body_condition",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"body_condition",n.concat([o])):a>-1&&e.$set(e.inspect,"body_condition",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"body_condition",s)}}}),n("br"),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Muffler and exhaust system")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.muffler_exhaust,expression:"inspect.muffler_exhaust"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"muffler_exhaust"},domProps:{checked:Array.isArray(e.inspect.muffler_exhaust)?e._i(e.inspect.muffler_exhaust,"muffler_exhaust")>-1:e.inspect.muffler_exhaust},on:{change:function(t){var n=e.inspect.muffler_exhaust,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="muffler_exhaust",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"muffler_exhaust",n.concat([o])):a>-1&&e.$set(e.inspect,"muffler_exhaust",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"muffler_exhaust",s)}}}),n("br"),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Condition of tires(including tread depth)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.tires,expression:"inspect.tires"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"tires"},domProps:{checked:Array.isArray(e.inspect.tires)?e._i(e.inspect.tires,"tires")>-1:e.inspect.tires},on:{change:function(t){var n=e.inspect.tires,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="tires",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"tires",n.concat([o])):a>-1&&e.$set(e.inspect,"tires",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"tires",s)}}}),n("br"),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Interior and exterior rear view mirrors")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.mirrors,expression:"inspect.mirrors"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"mirrors"},domProps:{checked:Array.isArray(e.inspect.mirrors)?e._i(e.inspect.mirrors,"mirrors")>-1:e.inspect.mirrors},on:{change:function(t){var n=e.inspect.mirrors,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="mirrors",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"mirrors",n.concat([o])):a>-1&&e.$set(e.inspect,"mirrors",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"mirrors",s)}}}),n("br"),n("br"),n("label",{attrs:{for:"role"}},[e._v(" Safety belts for drivers and passengers")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inspect.safety_belt,expression:"inspect.safety_belt"}],staticClass:"form-control",attrs:{type:"checkbox",name:"role",value:"safety_belt"},domProps:{checked:Array.isArray(e.inspect.safety_belt)?e._i(e.inspect.safety_belt,"safety_belt")>-1:e.inspect.safety_belt},on:{change:function(t){var n=e.inspect.safety_belt,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="safety_belt",a=e._i(n,o);r.checked?a<0&&e.$set(e.inspect,"safety_belt",n.concat([o])):a>-1&&e.$set(e.inspect,"safety_belt",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.inspect,"safety_belt",s)}}}),n("br"),n("br"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.inspect.comments,expression:"inspect.comments"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Briefly add comments:",name:"comments",rows:"5"},domProps:{value:e.inspect.comments},on:{input:function(t){t.target.composing||e.$set(e.inspect,"comments",t.target.value)}}}),n("br"),e.errorText?n("p",{staticClass:"text-danger"},[e._v(e._s(e.errorText))]):e._e()]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.inspection(e.inspect)}}},[e._v("Submit")])])])])])},B=[],U={name:"inspection",data:function(){return{inspect:{inspector_phone_num:"",vehicle_reg_number:"",headlights:!1,tail_lights:!1,turn_indicator_lights:!1,spot_lights:!1,foot_brakes:!1,parking_brake:!1,air_conditioning:!1,windshield:!1,seat_adjustment:!1,steering_mechanism:!1,door_control:!1,horn:!1,speedometer:!1,body_condition:!1,muffler_exhaust:!1,tires:!1,mirrors:!1,safety_belt:!1,comments:""},errorText:null}},methods:{inspection:function(e){var t=this;if(e.inspector_phone_num&&e.vehicle_reg_number){var n={inspector_phone_num:e.inspector_phone_num,vehicle_reg_number:e.vehicle_reg_number,headlights:e.headlights,tail_lights:e.tail_lights,turn_indicator_lights:e.turn_indicator_lights,spot_lights:e.spot_lights,foot_brakes:e.foot_brakes,parking_brake:e.parking_brake,air_conditioning:e.air_conditioning,windshield:e.windshield,seat_adjustment:e.seat_adjustment,steering_mechanism:e.steering_mechanism,door_control:e.door_control,horn:e.horn,speedometer:e.speedometer,body_condition:e.body_condition,muffler_exhaust:e.muffler_exhaust,tires:e.tires,mirrors:e.mirrors,safety_belt:e.safety_belt,inspected_by:e.inspected_by,client:e.client,vehicle_id:e.vehicle_id,comments:e.comments};f.a.post("http://localhost:3000/appointments/inspection",n).then((function(){var n=e.vehicle_reg_number;f.a.patch("http://localhost:3000/appointments/attendappointment/".concat(n)).then((function(e){console.log("data found: ",e),t.$router.push({name:"List"})}))})).catch((function(e){console.log(e)}))}else this.errorText="Please enter all fields!"}}},G=U,j=(n("d708"),Object(c["a"])(G,I,B,!1,null,"59e13710",null)),L=j.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"card register"},[n("div",{staticClass:"card-body"},[n("h2",{staticClass:"card-title text-center"},[e._v("Book an appointment")]),n("form",{staticClass:"text-center",on:{submit:[e.book,function(t){return t.preventDefault(),e.book(t)}]}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.Book.phone_number,expression:"Book.phone_number"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Please confirm your phone number:",name:"requester"},domProps:{value:e.Book.phone_number},on:{input:function(t){t.target.composing||e.$set(e.Book,"phone_number",t.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.Book.car_registration_number,expression:"Book.car_registration_number"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter car registration number:",name:"carreg"},domProps:{value:e.Book.car_registration_number},on:{input:function(t){t.target.composing||e.$set(e.Book,"car_registration_number",t.target.value)}}}),n("br"),e._m(0),n("input",{directives:[{name:"model",rawName:"v-model",value:e.Book.date_of_appointment,expression:"Book.date_of_appointment"}],staticClass:"form-control",attrs:{type:"date",placeholder:"Enter the appointment date:",name:"date"},domProps:{value:e.Book.date_of_appointment},on:{input:function(t){t.target.composing||e.$set(e.Book,"date_of_appointment",t.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.Book.make,expression:"Book.make"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter the car make:",name:"make"},domProps:{value:e.Book.make},on:{input:function(t){t.target.composing||e.$set(e.Book,"make",t.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.Book.model,expression:"Book.model"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter the car model:",name:"model"},domProps:{value:e.Book.model},on:{input:function(t){t.target.composing||e.$set(e.Book,"model",t.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.Book.color,expression:"Book.color"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter the color of the car:",name:"color"},domProps:{value:e.Book.color},on:{input:function(t){t.target.composing||e.$set(e.Book,"color",t.target.value)}}}),n("br"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.Book.comments,expression:"Book.comments"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Type any extra information needed here:",name:"comments"},domProps:{value:e.Book.comments},on:{input:function(t){t.target.composing||e.$set(e.Book,"comments",t.target.value)}}}),n("br"),e.errorText?n("p",{staticClass:"text-danger"},[e._v(e._s(e.errorText))]):e._e()]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.book(e.Book)}}},[e._v("Make appointment")])])])])])},Y=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticStyle:{"font-style":"italic"},attrs:{for:"date"}},[n("b",[e._v(" Please select date for appointment below: ")])])}],q={name:"book",data:function(){return{Book:{phone_number:"",car_registration_number:"",date_of_appointment:"",make:"",model:"",color:"",comments:""},errorText:null}},methods:{book:function(e){if(e.phone_number&&e.car_registration_number&&e.date_of_appointment&&e.make&&e.model&&e.color){var t={phone_number:e.phone_number,car_registration_number:e.car_registration_number,date_of_appointment:e.date_of_appointment,make:e.make,model:e.model,color:e.color,comments:e.comments};f.a.post("http://localhost:3000/appointments/addAppointment",t).then(alert("You have successfully added an appointment"),this.$router.push({name:"ClientHome"})).catch((function(e){console.log(e)}))}else this.errorText="Please enter all fields!"}}},D=q,M=(n("fbfb"),Object(c["a"])(D,O,Y,!1,null,"1e9429a6",null)),V=M.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container chat"},[n("h2",{staticClass:"text-primary text-center"},[e._v("Mobify Booker")]),n("h5",{staticClass:"text-secondary text-center"},[e._v("You logged in as a client")]),n("br"),e._m(0),n("br"),n("div",{staticClass:"card"},[n("form",{on:{submit:[e.getappointments,function(t){return t.preventDefault(),e.appointmentsclient(t)}]}},[e.errorText?n("p",{staticClass:"text-danger"},[e._v(e._s(e.errorText))]):e._e(),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.getappointments(e.clientappointment)}}},[e._v("List all appointments")]),n("br"),n("br"),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.cancel(e.cancelAppointment)}}},[e._v("Cancel appointment")]),n("br"),n("br"),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.getvehicles(e.clientvehicle)}}},[e._v("Display vehicles")]),n("br"),n("br"),n("a",{attrs:{href:"/book"}},[e._v("BOOK AN APPOINTMENT")]),n("br"),n("br")]),n("div",{staticClass:"card-body"},[n("table",[n("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll",value:{always:!1,smooth:!0},expression:"{always: false, smooth: true}"}],staticClass:"messages"},[e._m(1),n("tbody",e._l(e.clientappointment.appointments,(function(t){return n("tr",{key:t.phone_number_fk,staticStyle:{"font-size":"15px","font-weight":"bold"}},[n("td",[e._v(e._s(t.full_names))]),n("td",[e._v(e._s(t.date_of_appointment))]),n("td",[e._v(e._s(t.date_requested))]),n("td",[e._v(e._s(t.address))]),n("td",{staticStyle:{color:"red"}},[e._v(e._s(t.attended))])])})),0),n("tfoot")])]),n("br"),n("br"),n("table",[n("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll",value:{always:!1,smooth:!0},expression:"{always: false, smooth: true}"}],staticClass:"messages"},[e._m(2),n("tbody",e._l(e.clientvehicle.vehicles,(function(t){return n("tr",{key:t.owner,staticStyle:{"font-size":"15px","font-weight":"bold"}},[n("td",[e._v(e._s(t.full_names))]),n("td",[e._v(e._s(t.address))]),n("td",[e._v(e._s(t.make))]),n("td",[e._v(e._s(t.model))]),n("td",[e._v(e._s(t.registration_number))])])})),0),n("tfoot")])])])])])},z=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h6",{staticClass:"text-secondary text-center"},[n("b",[e._v("Click any button below to perform an action")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",{staticStyle:{"text-decoration-line":"underline","text-decoration-style":"double"}},[n("th",[e._v("Your name")]),n("th",[e._v("Date of appointment")]),n("th",[e._v("Date requested")]),n("th",[e._v("Your Address")]),n("th",[e._v("Appointment attended")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",{staticStyle:{"text-decoration-line":"underline","text-decoration-style":"double"}},[n("th",[e._v("Your name")]),n("th",[e._v("Your Address")]),n("th",[e._v("Vehicle Make")]),n("th",[e._v("Vehicle model")]),n("th",[e._v("Vehicle Registration")])])])}],F={name:"clientappalt",data:function(){return{clientappointment:{appointments:[],id:this.$route.params.id},cancelAppointment:{id:this.$route.params.id},clientvehicle:{vehicles:[],id:this.$route.params.id},errorText:null,id:this.$route.params.id}},methods:{getappointments:function(e){var t=this,n=e.id;f.a.get("http://localhost:3000/appointments/clientappointments/".concat(n)).then((function(e){console.log(e.data),t.clientappointment.appointments=e.data.appointments.data,0==e.data.appointments.data&&(t.errorText="You currenctly have no appointments")})).catch((function(e){console.log("error message",e)}))},cancel:function(e){var t=e.id,n=prompt("Cornfirm registration of the car booked for");f.a.get("http://localhost:3000/appointments/checkvehicle/".concat(t,"/").concat(n)).then((function(e){console.log("data found: ",e);var r=e.data.vehiclereg.data[0].fn_client_plate_number_exists;0==r?alert("You do not have a car registered with the provided registratiopn number"):f.a.patch("http://localhost:3000/appointments/clientcancel/".concat(t,"/").concat(n)).then((function(e){console.log("data found: ",e),alert("Appointment was succesfully cancelled")})).catch((function(e){console.log("error message",e)}))}))},getvehicles:function(e){var t=this,n=e.id;f.a.get("http://localhost:3000/appointments/clientvehicles/".concat(n)).then((function(e){console.log(e.data),t.clientvehicle.vehicles=e.data.vehicles.data,0==e.data.vehicles.data&&(t.errorText="You have not added a car yet")})).catch((function(e){console.log("error message",e)}))}}},J=F,K=(n("6757"),Object(c["a"])(J,H,z,!1,null,"2fb8d6df",null)),W=K.exports;r["a"].use(m["a"]);var Q=[{path:"/",name:"Login",component:y},{path:"/book",name:"BookAppointment",component:V},{path:"/list/:id",name:"List",component:R,props:!0},{path:"/register",name:"Register",component:N},{path:"/appointmentsclient/:id",name:"ClientAppointments",component:W},{path:"/inspection",name:"Inspection",component:L}],X=new m["a"]({mode:"history",base:"/",routes:Q}),Z=X;n("4989"),n("ab8b");r["a"].config.productionTip=!1,r["a"].use(o.a),new r["a"]({router:Z,render:function(e){return e(d)}}).$mount("#app")},"65ae":function(e,t,n){},6757:function(e,t,n){"use strict";n("f826")},"85ec":function(e,t,n){},"8ed6":function(e,t,n){"use strict";n("c1bd")},c1bd:function(e,t,n){},d708:function(e,t,n){"use strict";n("1fb2")},f826:function(e,t,n){},fbfb:function(e,t,n){"use strict";n("65ae")}});
//# sourceMappingURL=app.b6cfd510.js.map